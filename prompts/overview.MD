# ğŸ“‹ Sistema de AnÃ¡lise de CurrÃ­culos com LLM - Guia de Setup Completo

## ğŸ“– VisÃ£o Geral

Sistema inteligente para anÃ¡lise automatizada de currÃ­culos usando Large Language Models (LLM) e LangGraph. Permite que recrutadores registrem vagas, candidatos enviem currÃ­culos e recebam anÃ¡lises de compatibilidade automatizadas.

## ğŸ—ï¸ Arquitetura do Sistema

### Stack TecnolÃ³gico
- **Backend**: FastAPI + Python 3.11+
- **Frontend**: Next.js + TypeScript + Tailwind CSS
- **Banco de Dados**: PostgreSQL 15+
- **IA/ML**: LangGraph + LLM APIs (OpenAI, Anthropic, Groq, Gemini)
- **Message Queue**: RabbitMQ
- **ORM**: SQLAlchemy (Async)
- **Migrations**: Alembic
- **ContainerizaÃ§Ã£o**: Docker + Docker Compose

### UsuÃ¡rios do Sistema
- **Recruiters**: Cadastram vagas e visualizam anÃ¡lises
- **HR Analysts**: Analisam relatÃ³rios e rankings
- **Candidates**: Cadastram perfis e se candidatam
- **Company Owners**: Gerenciam empresas e equipes

## ğŸš€ Setup do Ambiente

### 1. PrÃ©-requisitos

```bash
# Instalar dependÃªncias do sistema
- Python 3.11+
- Node.js 18+
- Docker & Docker Compose
- Git
```

### 2. Clonagem e ConfiguraÃ§Ã£o Inicial

```bash
# Clonar repositÃ³rio
git clone <repository-url>
cd resume-analyzer-system

# Criar ambiente virtual Python
python -m venv .venv
source .venv/bin/activate  # Linux/Mac
# ou
.venv\Scripts\activate     # Windows

# Instalar dependÃªncias Python
pip install -r requirements.txt
```

### 3. ConfiguraÃ§Ã£o de VariÃ¡veis de Ambiente

```bash
# Copiar arquivo de exemplo
cp .env.example .env

# Editar .env com suas configuraÃ§Ãµes
```

**Arquivo .env:**
```env
# Database
DATABASE_URL=postgresql+asyncpg://username:password@localhost:5432/resume_analyzer
DATABASE_URL_SYNC=postgresql://username:password@localhost:5432/resume_analyzer

# Security
SECRET_KEY=your-super-secret-key-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# LLM APIs
OPENAI_API_KEY=your-openai-key
ANTHROPIC_API_KEY=your-anthropic-key
GROQ_API_KEY=your-groq-key
GEMINI_API_KEY=your-gemini-key

# RabbitMQ
RABBITMQ_URL=amqp://guest:guest@localhost:5672/

# App
APP_NAME=Resume Analyzer System
DEBUG=True
VERSION=1.0.0
```

### 4. InicializaÃ§Ã£o dos ServiÃ§os

```bash
# Subir banco de dados e RabbitMQ
docker-compose up -d

# Verificar se serviÃ§os estÃ£o rodando
docker-compose ps
```

### 5. ConfiguraÃ§Ã£o do Banco de Dados

```bash
# Executar migraÃ§Ãµes
python -m alembic upgrade head

# Verificar tabelas criadas
python debug_database.py
```

### 6. InstalaÃ§Ã£o do Frontend

```bash
# Navegar para diretÃ³rio frontend
cd frontend

# Instalar dependÃªncias
npm install

# Configurar variÃ¡veis de ambiente frontend
cp .env.local.example .env.local
```

**Frontend .env.local:**
```env
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_APP_NAME=Resume Analyzer
```

## ğŸ—„ï¸ Estrutura de DiretÃ³rios

```
resume-analyzer-system/
â”œâ”€â”€ app/                          # Backend FastAPI
â”‚   â”œâ”€â”€ api/                      # Endpoints da API
â”‚   â”‚   â””â”€â”€ v1/
â”‚   â”‚       â”œâ”€â”€ endpoints/        # Rotas especÃ­ficas
â”‚   â”‚       â””â”€â”€ router.py
â”‚   â”œâ”€â”€ config/                   # ConfiguraÃ§Ãµes
â”‚   â”‚   â”œâ”€â”€ database.py
â”‚   â”‚   â””â”€â”€ settings.py
â”‚   â”œâ”€â”€ core/                     # NÃºcleo da aplicaÃ§Ã£o
â”‚   â”‚   â”œâ”€â”€ auth.py
â”‚   â”‚   â”œâ”€â”€ exceptions.py
â”‚   â”‚   â”œâ”€â”€ security.py
â”‚   â”‚   â””â”€â”€ validators.py
â”‚   â”œâ”€â”€ database/                 # Modelos do banco
â”‚   â”‚   â””â”€â”€ models/
â”‚   â”œâ”€â”€ repositories/             # Camada de dados
â”‚   â”œâ”€â”€ schemas/                  # Pydantic schemas
â”‚   â”œâ”€â”€ services/                 # LÃ³gica de negÃ³cio
â”‚   â”‚   â”œâ”€â”€ llm_service.py
â”‚   â”‚   â”œâ”€â”€ analysis_service.py
â”‚   â”‚   â””â”€â”€ user_service.py
â”‚   â””â”€â”€ main.py
â”œâ”€â”€ frontend/                     # Frontend Next.js
â”‚   â”œâ”€â”€ components/               # Componentes React
â”‚   â”œâ”€â”€ pages/                    # PÃ¡ginas Next.js
â”‚   â”œâ”€â”€ styles/                   # Estilos Tailwind
â”‚   â”œâ”€â”€ lib/                      # Utilities
â”‚   â””â”€â”€ types/                    # TypeScript types
â”œâ”€â”€ migrations/                   # MigraÃ§Ãµes Alembic
â”œâ”€â”€ docs/                         # DocumentaÃ§Ã£o
â”œâ”€â”€ tests/                        # Testes
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ .env.example
â””â”€â”€ README.md
```

## ğŸ“Š Modelos de Dados (Entidades)

### Entidades Principais

```python
# Principais entidades do sistema:
- Users (UsuÃ¡rios)
- Company (Empresas)
- Job (Vagas)
- Curriculum (CurrÃ­culos)
- ProfessionalProfile (Perfil Profissional)
- ProfessionalExperience (ExperiÃªncia)
- AcademicBackground (FormaÃ§Ã£o)
- ProfessionalCourses (Cursos)
- ApplicationJob (Candidaturas)
- AnalyzeApplicationJob (AnÃ¡lises)
- Address (EndereÃ§os)
```

## ğŸ”„ Executando o Sistema

### 1. Backend (FastAPI)

```bash
# Desenvolvimento
python -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# Verificar se estÃ¡ funcionando
curl http://localhost:8000/health
```

### 2. Frontend (Next.js)

```bash
cd frontend
npm run dev
```

### 3. Verificar IntegraÃ§Ã£o

```bash
# Acessar aplicaÃ§Ã£o
http://localhost:3000         # Frontend
http://localhost:8000         # Backend API
http://localhost:8000/docs    # Swagger Documentation
http://localhost:5050         # PgAdmin (se configurado)
```

## ğŸ§ª Testes

```bash
# Executar testes backend
python -m pytest tests/ -v

# Executar testes frontend
cd frontend
npm run test

# Testes de integraÃ§Ã£o
python -m pytest tests/integration/ -v
```

## ğŸ“ Scripts Ãšteis

```bash
# Resetar banco de dados
python -m alembic downgrade base
python -m alembic upgrade head

# Gerar nova migraÃ§Ã£o
python -m alembic revision --autogenerate -m "Description"

# Debugar configuraÃ§Ã£o
python debug_database.py

# Corrigir problemas automaticamente
python fix_all_errors.py
```

## ğŸ”§ Troubleshooting

### Problemas Comuns

1. **Erro de conexÃ£o com banco:**
   ```bash
   # Verificar se PostgreSQL estÃ¡ rodando
   docker-compose ps
   
   # Reiniciar serviÃ§os
   docker-compose restart postgres
   ```

2. **Erro nas migraÃ§Ãµes:**
   ```bash
   # Corrigir automaticamente
   python fix_all_errors.py
   ```

3. **Problemas com LLM APIs:**
   ```bash
   # Verificar chaves de API no .env
   # Testar conectividade
   python test_llm_connection.py
   ```

## ğŸš¢ Deploy em ProduÃ§Ã£o

### PreparaÃ§Ã£o

```bash
# Build da aplicaÃ§Ã£o
cd frontend
npm run build

# Configurar variÃ¡veis de produÃ§Ã£o
cp .env.example .env.production
```

### Docker Production

```bash
# Build imagens
docker-compose -f docker-compose.prod.yml build

# Deploy
docker-compose -f docker-compose.prod.yml up -d
```

## ğŸ“š DocumentaÃ§Ã£o Adicional

- [API Documentation](http://localhost:8000/docs) - Swagger UI
- [Postman Collection](./FastAPI_Users_Collection.json) - Testes de API
- [Database Schema](./docs/database-schema.md) - Esquema do banco
- [Business Rules](./docs/business-rules.md) - Regras de negÃ³cio

## ğŸ¤ ContribuiÃ§Ã£o

1. Fork o projeto
2. Crie sua feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudanÃ§as (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

## ğŸ“„ LicenÃ§a

Este projeto estÃ¡ licenciado sob a MIT License - veja o arquivo [LICENSE](LICENSE) para detalhes.

## ğŸ†˜ Suporte

Para suporte, envie um email para support@resume-analyzer.com ou abra uma issue no GitHub.

---

**Status do Projeto:** ğŸŸ¢ Em Desenvolvimento Ativo

**Ãšltima AtualizaÃ§Ã£o:** Janeiro 2025