# ü§ñ Resume Analyzer API

Sistema inteligente para an√°lise automatizada de curr√≠culos usando Large Language Models (LLM) e LangGraph.

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![Python](https://img.shields.io/badge/python-3.11+-green.svg)
![FastAPI](https://img.shields.io/badge/FastAPI-0.104.1-009688.svg)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15+-336791.svg)
![License](https://img.shields.io/badge/license-MIT-blue.svg)

## üìã √çndice

- [Vis√£o Geral](#-vis√£o-geral)
- [Funcionalidades](#-funcionalidades)
- [Arquitetura](#-arquitetura)
- [Instala√ß√£o](#-instala√ß√£o)
- [Configura√ß√£o](#-configura√ß√£o)
- [Uso](#-uso)
- [API Documentation](#-api-documentation)
- [Desenvolvimento](#-desenvolvimento)
- [Deploy](#-deploy)
- [Contribui√ß√£o](#-contribui√ß√£o)
- [Licen√ßa](#-licen√ßa)

## üéØ Vis√£o Geral

O Resume Analyzer √© uma plataforma completa que utiliza intelig√™ncia artificial para analisar curr√≠culos e determinar a compatibilidade entre candidatos e vagas de emprego. O sistema processa automaticamente documentos em diversos formatos (PDF, DOC, DOCX, TXT) e gera an√°lises detalhadas com scores ponderados.

### üîç Como Funciona

1. **Cadastro de Vagas**: Recrutadores registram vagas com requisitos espec√≠ficos
2. **Upload de Curr√≠culos**: Candidatos fazem upload de seus curr√≠culos
3. **An√°lise Inteligente**: IA processa e analisa compatibilidade usando LLM
4. **Rankings**: Sistema gera rankings de candidatos por vaga
5. **Relat√≥rios**: Gera√ß√£o de relat√≥rios detalhados em PDF

## ‚ú® Funcionalidades

### üë• Gest√£o de Usu√°rios
- ‚úÖ Sistema de autentica√ß√£o JWT
- ‚úÖ M√∫ltiplos tipos de usu√°rio (admin, recruiter, candidate)
- ‚úÖ Perfis profissionais completos
- ‚úÖ Hist√≥rico de experi√™ncias e forma√ß√£o

### üè¢ Gest√£o Empresarial
- ‚úÖ Cadastro de empresas
- ‚úÖ Gest√£o de vagas por empresa
- ‚úÖ Dashboard para recrutadores
- ‚úÖ M√©tricas e analytics

### üíº Perfis Profissionais
- ‚úÖ Experi√™ncia profissional detalhada
- ‚úÖ Forma√ß√£o acad√™mica
- ‚úÖ Cursos e certifica√ß√µes
- ‚úÖ C√°lculo autom√°tico de completude

### üîç An√°lise Inteligente
- ‚úÖ Integra√ß√£o com m√∫ltiplos LLMs (OpenAI, Anthropic, Groq, Gemini)
- ‚úÖ Workflow de an√°lise com LangGraph
- ‚úÖ Sistema de pontua√ß√£o ponderada
- ‚úÖ Identifica√ß√£o de pontos fortes e fracos

### üìä Sistema de Pontua√ß√£o

| Crit√©rio | Peso | Descri√ß√£o |
|----------|------|-----------|
| **Experi√™ncia Profissional** | 35% | Relev√¢ncia e tempo de experi√™ncia |
| **Forma√ß√£o Acad√™mica** | 30% | N√≠vel e √°rea de forma√ß√£o |
| **Cursos Profissionalizantes** | 20% | Certifica√ß√µes e especializa√ß√µes |
| **Pontos Fortes** | +15% | Compet√™ncias destacadas |
| **Pontos Fracos** | -10% | √Åreas de melhoria |

**F√≥rmula:**
```
Score Final = (Experi√™ncia √ó 0.35) + (Forma√ß√£o √ó 0.30) + (Cursos √ó 0.20) + (Pontos Fortes √ó 0.15) - (Pontos Fracos √ó 0.10)
```

## üèóÔ∏è Arquitetura

### Stack Tecnol√≥gico

#### Backend
- **Framework**: FastAPI 0.104.1
- **Linguagem**: Python 3.11+
- **ORM**: SQLAlchemy (Async)
- **Banco de Dados**: PostgreSQL 15+
- **Migra√ß√µes**: Alembic
- **Cache**: Redis
- **Message Queue**: RabbitMQ

#### IA e Machine Learning
- **LLM Providers**: OpenAI, Anthropic, Groq, Gemini
- **Workflow Engine**: LangGraph
- **Processamento de Texto**: NLTK, spaCy
- **An√°lise de Documentos**: PyPDF2, python-docx

#### Infraestrutura
- **Containeriza√ß√£o**: Docker & Docker Compose
- **Servidor Web**: Uvicorn/Gunicorn
- **Proxy Reverso**: Nginx
- **Monitoramento**: Prometheus, Grafana

### Diagramas de Arquitetura

```mermaid
graph TB
    subgraph "Frontend"
        UI[Web Interface]
        API_CLIENT[API Client]
    end
    
    subgraph "Backend"
        GATEWAY[API Gateway]
        AUTH[Authentication]
        SERVICES[Business Services]
        REPOS[Repositories]
    end
    
    subgraph "AI/ML"
        LLM[LLM Providers]
        LANGGRAPH[LangGraph]
        ANALYSIS[Analysis Engine]
    end
    
    subgraph "Data Layer"
        POSTGRES[(PostgreSQL)]
        REDIS[(Redis Cache)]
        RABBITMQ[RabbitMQ]
    end
    
    UI --> API_CLIENT
    API_CLIENT --> GATEWAY
    GATEWAY --> AUTH
    GATEWAY --> SERVICES
    SERVICES --> REPOS
    REPOS --> POSTGRES
    SERVICES --> REDIS
    SERVICES --> RABBITMQ
    SERVICES --> ANALYSIS
    ANALYSIS --> LANGGRAPH
    LANGGRAPH --> LLM
```

## üöÄ Instala√ß√£o

### Pr√©-requisitos

- Python 3.11+
- Docker & Docker Compose
- PostgreSQL 15+ (ou usar Docker)
- Redis (ou usar Docker)
- Git

### Instala√ß√£o R√°pida

1. **Clone o reposit√≥rio**:
   ```bash
   git clone https://github.com/seu-usuario/resume-analyzer-api.git
   cd resume-analyzer-api
   ```

2. **Execute o script de setup**:
   ```bash
   chmod +x setup.sh
   ./setup.sh
   ```

3. **Configure as vari√°veis de ambiente**:
   ```bash
   cp .env.example .env
   # Edite o arquivo .env com suas configura√ß√µes
   ```

4. **Inicie os servi√ßos**:
   ```bash
   docker-compose up -d
   ```

### Instala√ß√£o Manual

<details>
<summary>Clique para ver instala√ß√£o manual</summary>

1. **Criar ambiente virtual**:
   ```bash
   python3 -m venv .venv
   source .venv/bin/activate  # Linux/Mac
   .venv\Scripts\activate     # Windows
   ```

2. **Instalar depend√™ncias**:
   ```bash
   pip install -r requirements.txt
   ```

3. **Configurar banco de dados**:
   ```bash
   # Inicie PostgreSQL via Docker
   docker run -d --name postgres \
     -e POSTGRES_DB=resume_analyzer \
     -e POSTGRES_USER=resume_user \
     -e POSTGRES_PASSWORD=resume_password \
     -p 5432:5432 postgres:15-alpine
   ```

4. **Executar migra√ß√µes**:
   ```bash
   alembic upgrade head
   ```

5. **Iniciar aplica√ß√£o**:
   ```bash
   uvicorn app.main:app --reload
   ```

</details>

## ‚öôÔ∏è Configura√ß√£o

### Vari√°veis de Ambiente Essenciais

```env
# Database
DATABASE_URL=postgresql+asyncpg://user:pass@localhost:5432/resume_analyzer

# Security
SECRET_KEY=your-super-secret-key-minimum-64-characters
ALGORITHM=HS256

# LLM APIs
OPENAI_API_KEY=sk-your-openai-key
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key
GROQ_API_KEY=gsk_your-groq-key
GEMINI_API_KEY=your-gemini-key

# Cache & Queue
REDIS_URL=redis://localhost:6379/0
RABBITMQ_URL=amqp://user:pass@localhost:5672/
```

### Configura√ß√£o de LLM

O sistema suporta m√∫ltiplos provedores de LLM:

| Provedor | Modelo Padr√£o | Configura√ß√£o |
|----------|---------------|--------------|
| **OpenAI** | gpt-4-1106-preview | `OPENAI_API_KEY` |
| **Anthropic** | claude-3-sonnet | `ANTHROPIC_API_KEY` |
| **Groq** | mixtral-8x7b-32768 | `GROQ_API_KEY` |
| **Gemini** | gemini-pro | `GEMINI_API_KEY` |

## üìñ Uso

### Comandos de Manuten√ß√£o

O sistema inclui um script de manuten√ß√£o completo:

```bash
# Setup inicial do banco
python scripts/maintenance.py db-setup

# Criar usu√°rio administrador
python scripts/maintenance.py user-create

# Backup do banco
python scripts/maintenance.py db-backup

# Health check completo
python scripts/maintenance.py health-check

# Limpeza de arquivos antigos
python scripts/maintenance.py cleanup --days 30

# Popular com dados de exemplo
python scripts/maintenance.py seed-data
```

### Exemplos de Uso da API

#### Criar Usu√°rio
```bash
curl -X POST "http://localhost:8000/api/v1/users/" \
  -H "Content-Type: application/json" \
  -d '{
    "user_name": "Jo√£o Silva",
    "user_email": "joao@email.com",
    "password": "MinhaSenh@123",
    "user_type": "candidate"
  }'
```

#### Upload de Curr√≠culo
```bash
curl -X POST "http://localhost:8000/api/v1/curriculum/" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -F "file=@curriculo.pdf"
```

#### Criar Vaga
```bash
curl -X POST "http://localhost:8000/api/v1/jobs/" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "job_name": "Desenvolvedor Python S√™nior",
    "activities": "Desenvolvimento de APIs em Python",
    "pre_requisites": "5+ anos Python, Django, PostgreSQL",
    "company_id": "uuid-da-empresa"
  }'
```

## üìö API Documentation

### Endpoints Principais

| Grupo | Endpoint | Descri√ß√£o |
|-------|----------|-----------|
| **Auth** | `POST /api/v1/auth/login` | Autentica√ß√£o |
| **Users** | `GET /api/v1/users/` | Listar usu√°rios |
| **Jobs** | `GET /api/v1/jobs/` | Listar vagas |
| **Applications** | `POST /api/v1/applications/` | Candidatar-se |
| **Analysis** | `GET /api/v1/analysis/{id}` | Resultado da an√°lise |

### Documenta√ß√£o Interativa

Acesse a documenta√ß√£o interativa:

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

### C√≥digos de Status

| C√≥digo | Descri√ß√£o |
|--------|-----------|
| `200` | Sucesso |
| `201` | Criado com sucesso |
| `400` | Erro de valida√ß√£o |
| `401` | N√£o autenticado |
| `403` | Sem permiss√£o |
| `404` | N√£o encontrado |
| `422` | Erro de valida√ß√£o Pydantic |
| `500` | Erro interno |

## üîß Desenvolvimento

### Configura√ß√£o do Ambiente de Desenvolvimento

1. **Instalar depend√™ncias de desenvolvimento**:
   ```bash
   pip install -r requirements.txt
   ```

2. **Configurar pre-commit hooks**:
   ```bash
   pre-commit install
   ```

3. **Executar testes**:
   ```bash
   pytest
   pytest --cov=app  # Com coverage
   ```

4. **Formatar c√≥digo**:
   ```bash
   black .
   isort .
   flake8 .
   ```

### Estrutura do Projeto

```
resume-analyzer-api/
‚îú‚îÄ‚îÄ app/                          # C√≥digo da aplica√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ api/                      # Endpoints da API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ v1/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ endpoints/        # Rotas espec√≠ficas
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ router.py
‚îÇ   ‚îú‚îÄ‚îÄ config/                   # Configura√ß√µes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ settings.py
‚îÇ   ‚îú‚îÄ‚îÄ core/                     # N√∫cleo da aplica√ß√£o
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ exceptions.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ security.py
‚îÇ   ‚îú‚îÄ‚îÄ database/                 # Modelos do banco
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ repositories/             # Camada de dados
‚îÇ   ‚îú‚îÄ‚îÄ schemas/                  # Pydantic schemas
‚îÇ   ‚îú‚îÄ‚îÄ services/                 # L√≥gica de neg√≥cio
‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ migrations/                   # Migra√ß√µes Alembic
‚îú‚îÄ‚îÄ scripts/                      # Scripts de utilidade
‚îú‚îÄ‚îÄ tests/                        # Testes
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md
```

### Workflow de Desenvolvimento

1. **Criar branch para feature**:
   ```bash
   git checkout -b feature/nova-funcionalidade
   ```

2. **Desenvolver e testar**:
   ```bash
   # Fazer altera√ß√µes
   pytest  # Executar testes
   black . # Formatar c√≥digo
   ```

3. **Commit e push**:
   ```bash
   git add .
   git commit -m "feat: adicionar nova funcionalidade"
   git push origin feature/nova-funcionalidade
   ```

4. **Criar Pull Request**

### Executando Testes

```bash
# Todos os testes
pytest

# Testes espec√≠ficos
pytest tests/test_services/

# Com coverage
pytest --cov=app --cov-report=html

# Testes de integra√ß√£o
pytest tests/integration/

# Testes em paralelo
pytest -n auto
```

## üö¢ Deploy

### Deploy Local (Docker)

```bash
# Build e start
docker-compose up -d

# Verificar status
docker-compose ps

# Ver logs
docker-compose logs -f api
```

### Deploy em Produ√ß√£o

<details>
<summary>Deploy com Docker Swarm</summary>

```bash
# Inicializar swarm
docker swarm init

# Deploy stack
docker stack deploy -c docker-compose.prod.yml resume-analyzer

# Verificar servi√ßos
docker service ls
```

</details>

<details>
<summary>Deploy no Kubernetes</summary>

```bash
# Aplicar manifests
kubectl apply -f k8s/

# Verificar status
kubectl get pods -n resume-analyzer

# Acompanhar logs
kubectl logs -f deployment/resume-analyzer-api
```

</details>

### Vari√°veis de Ambiente Produ√ß√£o

```env
# Produ√ß√£o
DEBUG=false
ENVIRONMENT=production
LOG_LEVEL=WARNING

# Security
SECRET_KEY=production-secret-key-64-characters-minimum
ALLOWED_HOSTS=https://yourdomain.com

# Database
DATABASE_URL=postgresql+asyncpg://user:pass@db:5432/resume_analyzer

# Monitoring
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project
```

## üß™ Testes

### Tipos de Teste

- **Unit Tests**: Testam componentes isolados
- **Integration Tests**: Testam integra√ß√£o entre componentes
- **E2E Tests**: Testam fluxos completos
- **Performance Tests**: Testam performance da API

### Executar Su√≠te Completa

```bash
# Testes unit√°rios
pytest tests/unit/

# Testes de integra√ß√£o
pytest tests/integration/

# Testes E2E
pytest tests/e2e/

# Coverage report
pytest --cov=app --cov-report=html
open htmlcov/index.html
```

## üìä Monitoramento

### M√©tricas Dispon√≠veis

- **API Metrics**: Lat√™ncia, throughput, erro rate
- **Database Metrics**: Conex√µes, queries, performance
- **LLM Metrics**: Uso de tokens, custos, lat√™ncia
- **Business Metrics**: An√°lises processadas, usu√°rios ativos

### Health Checks

```bash
# Health check da API
curl http://localhost:8000/api/v1/health

# Health check completo
python scripts/maintenance.py health-check
```

### Logs

```bash
# Ver logs da aplica√ß√£o
tail -f logs/app.log

# Logs do Docker
docker-compose logs -f api

# Logs estruturados
grep "level=ERROR" logs/app.log | jq .
```

## ü§ù Contribui√ß√£o

### Como Contribuir

1. **Fork o projeto**
2. **Criar branch para feature** (`git checkout -b feature/AmazingFeature`)
3. **Commit suas mudan√ßas** (`git commit -m 'Add some AmazingFeature'`)
4. **Push para a branch** (`git push origin feature/AmazingFeature`)
5. **Abrir Pull Request**

### Diretrizes

- Seguir o padr√£o de c√≥digo (Black, isort, flake8)
- Escrever testes para novas funcionalidades
- Documentar mudan√ßas no c√≥digo
- Atualizar documenta√ß√£o se necess√°rio

### Reportar Issues

Use as [GitHub Issues](https://github.com/seu-usuario/resume-analyzer-api/issues) para:

- üêõ Reportar bugs
- üí° Sugerir features
- üìù Melhorias na documenta√ß√£o
- ‚ùì Fazer perguntas

## üìÑ Licen√ßa

Este projeto est√° licenciado sob a MIT License - veja o arquivo [LICENSE](LICENSE) para detalhes.

## üÜò Suporte

- **Email**: support@resume-analyzer.com
- **Discord**: [Resume Analyzer Community](https://discord.gg/resume-analyzer)
- **GitHub Issues**: [Issues](https://github.com/seu-usuario/resume-analyzer-api/issues)
- **Documentation**: [Wiki](https://github.com/seu-usuario/resume-analyzer-api/wiki)

## üôè Agradecimentos

- [FastAPI](https://fastapi.tiangolo.com/) - Framework web moderno
- [SQLAlchemy](https://www.sqlalchemy.org/) - ORM Python
- [LangChain](https://langchain.com/) - Framework para LLM
- [PostgreSQL](https://www.postgresql.org/) - Banco de dados
- [Docker](https://www.docker.com/) - Containeriza√ß√£o

---

**Status do Projeto**: üü¢ Em Desenvolvimento Ativo

**√öltima Atualiza√ß√£o**: Janeiro 2025

**Vers√£o**: 1.0.0